<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vex — The Ultimate Roblox Script</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <style>
        @layer base {
            body {
                font-family: 'Inter', sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                background-color: #000;
                overflow-x: hidden;
            }
        }
        
        @layer components {
            .glass-effect {
                background-color: rgba(17, 17, 17, 0.5);
                backdrop-filter: blur(24px);
                -webkit-backdrop-filter: blur(24px);
                border: 1px solid rgba(255, 255, 255, 0.05);
                position: relative;
            }

            .feature-card {
                --glow-color: rgba(79, 70, 229, 0.5);
                transition: transform 0.3s ease;
            }

            .feature-card:hover {
                transform: translateY(-8px);
            }
            .feature-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                border-radius: inherit;
                box-shadow: 0 0 40px 10px var(--glow-color);
                opacity: 0;
                transition: opacity 0.4s ease, box-shadow 0.4s ease;
                z-index: -1;
            }

            .feature-card:hover::before {
                opacity: 1;
            }

            .liquid-glass-btn {
                background: rgba(4, 98, 255, 0.2);
                border: 1px solid rgba(120, 150, 255, 0.2);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                color: white;
                font-weight: 600;
                padding: 0.75rem 1.5rem;
                border-radius: 9999px;
                transition: all 0.3s ease;
                box-shadow: 0 4px 20px rgba(0, 100, 255, 0.1);
            }

            .liquid-glass-btn:hover {
                background: rgba(4, 98, 255, 0.3);
                border-color: rgba(120, 150, 255, 0.5);
                box-shadow: 0 4px 30px rgba(0, 100, 255, 0.3);
                transform: translateY(-2px);
            }

            /* New Liquid Glass Icon Button Style */
            .liquid-glass-icon-btn {
                background: rgba(4, 98, 255, 0.2);
                border: 1px solid rgba(120, 150, 255, 0.2);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                color: white;
                padding: 1.5rem;
                border-radius: 2rem; /* A bit larger for the app icon look */
                transition: all 0.3s ease;
                box-shadow: 0 4px 20px rgba(0, 100, 255, 0.1);
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 2.5rem; /* Larger icon */
            }

            .liquid-glass-icon-btn:hover {
                background: rgba(4, 98, 255, 0.3);
                border-color: rgba(120, 150, 255, 0.5);
                box-shadow: 0 4px 30px rgba(0, 100, 255, 0.3);
                transform: translateY(-4px) scale(1.05); /* More pronounced effect */
            }

            .get-script-icon {
                /* A simple script/code icon */
                width: 1em;
                height: 1em;
            }
        }

        /* BETA FEATURE: CSS @property (Houdini) */
        @property --glow-color {
            syntax: '<color>';
            inherits: false;
            initial-value: rgba(79, 70, 229, 0);
        }
        
        /* Aurora Background Effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 15% 50%, #4f46e5 0%, rgba(0,0,0,0) 25%),
                        radial-gradient(circle at 85% 30%, #d946ef 0%, rgba(0,0,0,0) 25%),
                        radial-gradient(circle at 50% 80%, #10b981 0%, rgba(0,0,0,0) 20%);
            z-index: -1;
            animation: animateAurora 20s infinite linear;
            opacity: 0.3;
        }

        @keyframes animateAurora {
            0% { transform: rotate(0deg) scale(1.5); }
            50% { transform: rotate(180deg) scale(2); }
            100% { transform: rotate(360deg) scale(1.5); }
        }
        
        /* BETA FEATURE: CSS Scroll-Driven Animations (Parallax Hero) */
        #hero-content {
            animation: fade-out-scale-down linear;
            animation-timeline: scroll(root);
            animation-range: 0 50vh;
        }
        @keyframes fade-out-scale-down {
            to {
                opacity: 0;
                transform: scale(0.9) translateY(-50px);
            }
        }
        
        .view-animate {
            animation: fade-in-up linear;
            animation-timeline: view(block);
            animation-range: entry 25% cover 50%;
            animation-fill-mode: both;
        }

        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(60px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Gradient text style */
        .gradient-text {
            background: linear-gradient(90deg, #a5b4fc, #f9a8d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Loader Animation */
        .loader {
            width: 24px;
            height: 24px;
            border: 3px solid #FFF;
            border-bottom-color: transparent;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        /* BETA FEATURE: CSS text-wrap */
        .text-balance {
            text-wrap: balance;
        }
        
        /* New WebGPU Section Canvas */
        #webgpu-canvas {
            display: block;
            margin: 2rem auto;
            border-radius: 1rem;
            box-shadow: 0 0 30px rgba(100, 200, 255, 0.2);
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        #webgpu-canvas.active {
            opacity: 1;
            transform: scale(1);
        }
    </style>
</head>
<body class="bg-black text-gray-300">

    <header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 glass-effect">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-white flex items-center space-x-2" data-magnetic>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-400"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Z"/><path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"/></svg>
                <span>Vex</span>
            </a>
            <nav class="hidden md:flex space-x-2 items-center">
                <a href="#features" class="text-gray-300 hover:text-white transition-colors px-4 py-2 rounded-full" data-magnetic>Features</a>
                <a href="#design" class="text-gray-300 hover:text-white transition-colors px-4 py-2 rounded-full" data-magnetic>Design</a>
                <a href="#tech" class="text-gray-300 hover:text-white transition-colors px-4 py-2 rounded-full" data-magnetic>Technology</a>
                <a href="#vex-ai" class="text-gray-300 hover:text-white transition-colors px-4 py-2 rounded-full" data-magnetic>Vex AI</a>
                <button id="get-script-btn-nav" class="liquid-glass-btn" data-magnetic>Get Script</button>
            </nav>
            <button class="md:hidden text-white" data-magnetic>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
        </div>
    </header>

    <main>
        <section class="h-[150vh] flex items-start justify-center text-center bg-transparent pt-48 sticky top-0">
            <div class="container mx-auto px-6" id="hero-content">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold text-white leading-tight mb-6">
                        Unlock the power of <span class="gradient-text">Vex</span>.
                        <br>
                        Unrivaled control.
                    </h1>
                    <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-10 text-balance">
                        The most advanced script for Roblox. Seamlessly integrated, intuitively designed, and powerfully simple.
                    </p>
                    <div>
                        <button id="get-script-btn-hero" class="liquid-glass-icon-btn" data-magnetic>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="get-script-icon">
                                <polyline points="16 18 22 12 16 6"></polyline>
                                <polyline points="8 6 2 12 8 18"></polyline>
                            </svg>
                        </button>
                        <p id="copy-message" class="mt-4 text-gray-400 opacity-0 transition-opacity duration-300">Click to copy script!</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="relative z-10 bg-black">
            <section class="py-20">
                <div class="container mx-auto px-6 text-center">
                    <img src="https://placehold.co/1200x800/000000/FFFFFF?text=Vex+Script+Showcase" 
                            alt="Vex Script Showcase" 
                            class="rounded-3xl mx-auto shadow-2xl shadow-indigo-500/20 view-animate"
                            id="product-image"
                            onerror="this.onerror=null;this.src='https://placehold.co/1200x800/111111/444444?text=Image+Not+Found';">
                </div>
            </section>

            <section id="features" class="py-20">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl md:text-5xl font-bold text-white view-animate text-balance">Everything you need. <br>And then some.</h2>
                    </div>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="text-center p-8 rounded-3xl glass-effect feature-card view-animate">
                            <div class="flex items-center justify-center h-20 w-20 rounded-2xl bg-gray-900 border border-gray-800 mx-auto mb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-400"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="22" y2="7"></line><line x1="2" y1="17" x2="22" y2="17"></line></svg>
                            </div>
                            <h3 class="text-2xl font-semibold text-white mb-3 text-balance">Powerful Module</h3>
                            <p class="text-gray-400">Our script delivers performance that’s not just fast, it’s instantaneous.</p>
                        </div>
                        <div class="text-center p-8 rounded-3xl glass-effect feature-card view-animate" style="animation-delay: 0.2s;">
                            <div class="flex items-center justify-center h-20 w-20 rounded-2xl bg-gray-900 border border-gray-800 mx-auto mb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-400"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                            </div>
                            <h3 class="text-2xl font-semibold text-white mb-3 text-balance">Effortless GUI</h3>
                            <p class="text-gray-400">Our clean, simple UI makes it easy to control everything with a few clicks.</p>
                        </div>
                        <div class="text-center p-8 rounded-3xl glass-effect feature-card view-animate" style="animation-delay: 0.4s;">
                            <div class="flex items-center justify-center h-20 w-20 rounded-2xl bg-gray-900 border border-gray-800 mx-auto mb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-400"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                            </div>
                            <h3 class="text-2xl font-semibold text-white mb-3 text-balance">Always Updated</h3>
                            <p class="text-gray-400">We work tirelessly to provide updates and new features, so you're always ahead.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="design" class="py-20">
                <div class="container mx-auto px-6">
                    <div class="grid md:grid-cols-2 gap-16 items-center">
                        <div class="view-animate">
                            <img src="https://placehold.co/800x800/000000/FFFFFF?text=Vex+UI+Showcase" 
                                    alt="Vex UI Showcase" 
                                    class="rounded-3xl glass-effect p-2"
                                    onerror="this.onerror=null;this.src='https://placehold.co/800x800/111111/444444?text=Image+Not+Found';">
                        </div>
                        <div class="view-animate" style="animation-delay: 0.2s;">
                            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 text-balance">Designed for life.</h2>
                            <p class="text-lg text-gray-400 mb-4 text-balance">Crafted from aerospace-grade aluminum and fortified ceramic glass, Vex is as durable as it is beautiful. Every curve, every edge, and every pixel is meticulously engineered for a perfect feel and a flawless look.</p>
                            <p class="text-lg text-gray-400 text-balance">Available in four stunning finishes: Midnight, Starlight, Nebula, and Rose Gold.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="tech" class="py-20">
                <div class="container mx-auto px-6 text-center">
                    <div class="max-w-4xl mx-auto">
                        <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 view-animate text-balance">Powered by VexOS.</h2>
                        <p class="text-lg md:text-xl text-gray-400 mb-12 view-animate" style="animation-delay: 0.2s;">
                            Our revolutionary operating system anticipates your needs, protects your privacy, and connects your world like never before. It’s not just smart; it’s intuitive.
                        </p>
                        <div class="view-animate" style="animation-delay: 0.4s;">
                            <img src="https://placehold.co/1200x600/000000/FFFFFF?text=VexOS+Interface" 
                                    alt="VexOS User Interface" 
                                    class="rounded-2xl shadow-lg glass-effect p-2"
                                    onerror="this.onerror=null;this.src='https://placehold.co/1200x600/111111/444444?text=Image+Not+Found';">
                        </div>
                        <div class="mt-12 view-animate" style="animation-delay: 0.6s;">
                            <h3 class="text-2xl font-bold text-white mb-4 text-balance">A Glimpse of the Future: WebGPU</h3>
                            <canvas id="webgpu-canvas" width="600" height="400"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="vex-ai" class="py-20">
                <div class="container mx-auto px-6 text-center">
                    <div class="max-w-3xl mx-auto">
                        <h2 class="text-4xl md:text-5xl font-bold text-white mb-4 view-animate text-balance">Have a question?</h2>
                        <p class="text-lg md:text-xl text-gray-400 mb-10 view-animate" style="animation-delay: 0.2s;">
                            Ask our AI anything about the Vex device.
                        </p>
                        <div class="glass-effect p-8 rounded-3xl view-animate motion-bg" style="animation-delay: 0.4s;">
                            <div class="flex flex-col md:flex-row gap-4 mb-6">
                                <input type="text" id="ai-prompt" placeholder="e.g., How long does the battery last?" class="w-full bg-gray-900/50 text-white placeholder-gray-500 px-5 py-3 rounded-full border border-transparent focus:border-indigo-500 focus:ring-0 transition-all">
                                <button id="ask-ai-btn" class="bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-8 py-3 rounded-full transition-colors flex items-center justify-center space-x-2">
                                    <span>✨ Ask Vex AI</span>
                                </button>
                            </div>
                            <div id="vex-ai-response" class="text-left p-6 bg-black/20 rounded-2xl text-gray-300">
                                Ask a question to see the AI's response here.
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="glass-effect border-t-0 mt-20">
        <div class="container mx-auto px-6 py-12">
            <div class="grid md:grid-cols-4 gap-8 text-gray-400">
                <div>
                    <h4 class="font-semibold text-white mb-4">Vex</h4>
                    <p>The Future of Connection</p>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Product</h4>
                    <ul>
                        <li class="mb-2"><a href="#" class="hover:text-white">Overview</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Features</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Tech Specs</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Company</h4>
                    <ul>
                        <li class="mb-2"><a href="#" class="hover:text-white">About</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Careers</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Press</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Support</h4>
                    <ul>
                        <li class="mb-2"><a href="#" class="hover:text-white">Help Center</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Contact Us</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Warranty</a></li>
                    </ul>
                </div>
            </div>
            <div class="mt-12 border-t border-gray-800 pt-8 text-center text-sm text-gray-500">
                <p>&copy; 2025 Vex Inc. All rights reserved.</p>
            </div>
        </div>
    </footer>


    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // --- MAGNETIC BUTTONS EFFECT ---
            const magneticElements = document.querySelectorAll('[data-magnetic]');
            magneticElements.forEach(el => {
                el.addEventListener('mousemove', function(e) {
                    const position = el.getBoundingClientRect();
                    const x = e.clientX - position.left - position.width / 2;
                    const y = e.clientY - position.top - position.height / 2;

                    gsap.to(el, {
                        x: x * 0.3,
                        y: y * 0.3,
                        duration: 0.7,
                        ease: "elastic.out(1, 0.3)"
                    });
                });

                el.addEventListener('mouseleave', function() {
                    gsap.to(el, {
                        x: 0,
                        y: 0,
                        duration: 0.7,
                        ease: "elastic.out(1, 0.3)"
                    });
                });
            });

            // --- GET SCRIPT BUTTON: COPY TO CLIPBOARD ---
            const scriptText = "This is the script for Vex.";

            const getScriptBtnNav = document.getElementById('get-script-btn-nav');
            getScriptBtnNav.addEventListener('click', () => {
                navigator.clipboard.writeText(scriptText).then(() => {
                    console.log('Script copied to clipboard!');
                    getScriptBtnNav.textContent = 'Copied!';
                    setTimeout(() => {
                        getScriptBtnNav.textContent = 'Get Script';
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                    getScriptBtnNav.textContent = 'Failed!';
                    setTimeout(() => {
                        getScriptBtnNav.textContent = 'Get Script';
                    }, 2000);
                });
            });

            const getScriptBtnHero = document.getElementById('get-script-btn-hero');
            const copyMessage = document.getElementById('copy-message');
            getScriptBtnHero.addEventListener('click', () => {
                navigator.clipboard.writeText(scriptText).then(() => {
                    console.log('Script copied to clipboard!');
                    copyMessage.textContent = 'Copied!';
                    copyMessage.classList.remove('opacity-0');
                    setTimeout(() => {
                        copyMessage.textContent = 'Click to copy script!';
                        copyMessage.classList.add('opacity-0');
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                    copyMessage.textContent = 'Failed to copy!';
                    copyMessage.classList.remove('opacity-0');
                    setTimeout(() => {
                        copyMessage.textContent = 'Click to copy script!';
                        copyMessage.classList.add('opacity-0');
                    }, 2000);
                });
            });

            // Make message visible on hover
            getScriptBtnHero.addEventListener('mouseenter', () => {
                copyMessage.classList.remove('opacity-0');
            });
            getScriptBtnHero.addEventListener('mouseleave', () => {
                if (copyMessage.textContent === 'Click to copy script!') {
                    copyMessage.classList.add('opacity-0');
                }
            });


            // --- GEMINI API INTEGRATION ---
            const askAiBtn = document.getElementById('ask-ai-btn');
            const aiPromptInput = document.getElementById('ai-prompt');
            const aiResponseContainer = document.getElementById('vex-ai-response');

            askAiBtn.addEventListener('click', () => handleAiRequest(aiPromptInput.value.trim()));
            aiPromptInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleAiRequest(aiPromptInput.value.trim());
                }
            });

            async function handleAiRequest(userPrompt, retryCount = 0) {
                if (!userPrompt) {
                    aiResponseContainer.textContent = 'Please enter a question.';
                    return;
                }

                askAiBtn.disabled = true;
                askAiBtn.innerHTML = '<span class="loader"></span><span>Thinking...</span>';
                if (retryCount === 0) {
                    aiResponseContainer.innerHTML = 'Generating response...';
                }

                const productInfo = `
                    You are Vex AI, a helpful assistant for the 'Vex' script.
                    The Vex script is an advanced Roblox script with these features:
                    - Powerful Module: Instantaneous performance in Roblox.
                    - Effortless GUI: A clean, simple UI for easy control.
                    - Always Updated: New features are constantly being added.
                    - Design: The website showcases a futuristic design with a focus on liquid-glass aesthetics.
                    
                    Keep your answers concise, friendly, and focused on the product.
                `;
                
                const payload = {
                    contents: [{ role: "user", parts: [{ text: `${productInfo}\n\nUser question: "${userPrompt}"\n\nYour answer:` }] }]
                };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status >= 500 && retryCount < 3) {
                            const delay = Math.pow(2, retryCount) * 1000;
                            console.log(`Retrying API call in ${delay / 1000} seconds...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            return handleAiRequest(userPrompt, retryCount + 1);
                        }
                        throw new Error(`API request failed with status ${response.status}: ${response.statusText}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content) {
                        const text = result.candidates[0].content.parts[0].text;
                        aiResponseContainer.textContent = text;
                    } else {
                        throw new Error('Unexpected API response structure or no content.');
                    }

                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    aiResponseContainer.textContent = 'Sorry, I had trouble connecting to my brain. Please try again in a moment.';
                } finally {
                    askAiBtn.disabled = false;
                    askAiBtn.innerHTML = '<span>✨ Ask Vex AI</span>';
                }
            }

            // --- BETA FEATURE: WEBGPU API ---
            async function initWebGPU() {
                if (!navigator.gpu) {
                    console.log("WebGPU not supported on this browser.");
                    return;
                }
                
                const adapter = await navigator.gpu.requestAdapter();
                const device = await adapter.requestDevice();
                const canvas = document.getElementById('webgpu-canvas');
                const context = canvas.getContext('webgpu');
                
                const presentationFormat = navigator.gpu.getPreferredCanvasFormat();
                context.configure({
                    device: device,
                    format: presentationFormat,
                    alphaMode: 'premultiplied'
                });
                
                const pipeline = device.createRenderPipeline({
                    layout: 'auto',
                    vertex: {
                        module: device.createShaderModule({
                            code: `
                                @vertex
                                fn main(@builtin(vertex_index) vertexIndex : u32) -> @builtin(position) vec4<f32> {
                                    var positions = array<vec2<f32>, 3>(
                                        vec2<f32>(0.0, 0.5),
                                        vec2<f32>(-0.5, -0.5),
                                        vec2<f32>(0.5, -0.5)
                                    );
                                    return vec4<f32>(positions[vertexIndex], 0.0, 1.0);
                                }
                            `
                        }),
                        entryPoint: 'main'
                    },
                    fragment: {
                        module: device.createShaderModule({
                            code: `
                                @fragment
                                fn main() -> @location(0) vec4<f32> {
                                    return vec4<f32>(0.2, 0.7, 0.9, 1.0);
                                }
                            `
                        }),
                        entryPoint: 'main',
                        targets: [{ format: presentationFormat }]
                    },
                    primitive: {
                        topology: 'triangle-list'
                    }
                });

                function render() {
                    const commandEncoder = device.createCommandEncoder();
                    const textureView = context.getCurrentTexture().createView();
                    const renderPassDescriptor = {
                        colorAttachments: [{
                            view: textureView,
                            clearValue: { r: 0.0, g: 0.0, b: 0.0, a: 0.0 },
                            loadOp: 'clear',
                            storeOp: 'store'
                        }]
                    };
                    const passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);
                    passEncoder.setPipeline(pipeline);
                    passEncoder.draw(3); // Draw our single triangle.
                    passEncoder.end();
                    device.queue.submit([commandEncoder.finish()]);
                }
                
                render();
                canvas.classList.add('active'); // Animate the canvas in
            }
            
            const webGpuObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        initWebGPU();
                        webGpuObserver.unobserve(entry.target);
                    }
                });
            });
            webGpuObserver.observe(document.getElementById('tech'));

            // --- BETA FEATURE: DEVICE MOTION API ---
            const vexAiSection = document.getElementById('vex-ai');
            if (window.DeviceMotionEvent) {
                window.addEventListener('devicemotion', event => {
                    const { x, y } = event.accelerationIncludingGravity;
                    const normalizedX = (x / 9.8) * 50 + 50;
                    const normalizedY = (y / 9.8) * 50 + 50;
                    
                    vexAiSection.style.setProperty('--motion-x', `${normalizedX}%`);
                    vexAiSection.style.setProperty('--motion-y', `${normalizedY}%`);
                });
            }
        });
    </script>
</body>
</html>
